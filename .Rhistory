#   ggplot(aes(x=param_vals,y=measure_vals, color=params, group=params)) +
#   geom_point(alpha=.4)+
#   geom_smooth(method = 'lm', se=F) +
#   theme_pubclean()+
#   facet_wrap(vars(measures))
#   scale_fill_brewer('Paired')
all_dat_cors <-
molt.param.out %>%
filter( type=='behav') %>%
dplyr::group_by(condition, setSize, params) %>%
dplyr::summarise(cor.pearson=cor(param_vals,measure_vals, use="complete.obs"),
cor.spearman=cor(param_vals,measure_vals, use="complete.obs", method = 'spearman')
)
all_dat_cors %>%
ggplot(aes(params, condition, fill=cor.spearman)) +
geom_tile() +
facet_wrap(vars(setSize))+
theme_pubclean(base_size = 18) +
scale_fill_gradient2(limits=c(-0.7,0.7),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-.5,-.25,0,.25,.5)
) +
# scale_fill_distiller(palette = 'Spectral', guide='colorbar') +
theme(legend.position = 'right')
all_dat_cors %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
facet_wrap(vars(setSize))+
theme_pubclean(base_size = 18) +
scale_fill_gradient2(limits=c(-0.7,0.7),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-.5,-.25,0,.25,.5)
) +
# scale_fill_distiller(palette = 'Spectral', guide='colorbar') +
theme(legend.position = 'right') +
xlab('parameters')
# molt.param.out %>%
#   filter(type=='model', condition=='13', setSize=='s3', params=='bias') %>%
#   select(param_vals, measure_vals) %>%
#   #dplyr::group_by(param_vals) %>%
#   #dplyr::summarise(median(measure_vals)) %>%
#   #plot()
#   cor(use="complete.obs",method = 'spearman')
temp4join1 <-
fit.lr %>%
dplyr::filter(estimate.type=='slope') %>%
reshape2::dcast(subjects  + model ~ setSize + estimate.type + type, value.var = 'estimate')
temp4join2 <-
learnTestDiff %>%
select(-model) %>%
data.frame('param'='TestForgetting') %>%
reshape2::dcast(subjects  ~ setSize +param +type, value.var = 'value')
temp4join3 <-
s3s6Diff %>%
select(-model) %>%
data.frame('param'='s3s6_learnDiff') %>%
reshape2::dcast(subjects ~ param + type, value.var = 'learnDiff')
main4join <-
p.behav.model %>%
select(s3.12.behav, s3.12.model, s6.12.behav, s6.12.model,s3.13.behav,
s3.13.model, s6.13.behav, s6.13.model) %>%
scale() %>%
data.frame( p.behav.model %>%
select('alpha','egs','bll','imag','ans','bias') %>%
scale(),
'subjects'= p.behav.model$subjects
)
p.param.outcomes <-
merge(main4join,
temp4join1, by = c("subjects"), sort=FALSE) %>%
merge(temp4join2, by = c("subjects"), sort = FALSE ) %>%
merge(temp4join3, by = c("subjects"), sort = FALSE )
# p.param.outcomes %>%
#   select(-model,-subjects,-ends_with('model')) %>%
#   GGally::ggpairs() +
#   theme_pubclean() + theme(axis.text.y = element_text( angle=45))
molt.param.out <- p.param.outcomes %>%
reshape2::melt(id.vars=c('model','subjects','alpha','egs','bll','imag','ans','bias'),
variable.name='measures', value.name="measure_vals")  %>%
reshape2::melt(id.vars=c('model','subjects', 'measures','measure_vals'),
variable.name='params',value.name='param_vals') %>%
separate("measures", into = c('setSize', "condition","type"), remove = FALSE, convert = TRUE)
#
# molt.param.out %>%
#   filter(condition=='13', model=='LTM') %>%
#   ggplot(aes(x=param_vals,y=measure_vals, color=params, group=params)) +
#   geom_point(alpha=.4)+
#   geom_smooth(method = 'lm', se=F) +
#   theme_pubclean()+
#   facet_wrap(vars(measures))
#   scale_fill_brewer('Paired')
all_dat_cors <-
molt.param.out %>%
filter( type=='behav') %>%
dplyr::group_by(condition, setSize, params) %>%
dplyr::summarise(cor.pearson=cor(param_vals,measure_vals, use="complete.obs"),
cor.spearman=cor(param_vals,measure_vals, use="complete.obs", method = 'spearman')
)
all_dat_cors %>%
ggplot(aes(params, condition, fill=cor.spearman)) +
geom_tile() +
facet_wrap(vars(setSize))+
theme_pubclean(base_size = 18) +
scale_fill_gradient2(limits=c(-0.7,0.7),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-.5,-.25,0,.25,.5)
) +
# scale_fill_distiller(palette = 'Spectral', guide='colorbar') +
theme(legend.position = 'right')
all_dat_cors %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
facet_wrap(vars(setSize))+
theme_pubclean(base_size = 18) +
scale_fill_gradient2(limits=c(-0.7,0.7),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-.5,-.25,0,.25,.5)
) +
# scale_fill_distiller(palette = 'Spectral', guide='colorbar') +
theme(legend.position = 'right') +
xlab('parameters')
# molt.param.out %>%
#   filter(type=='model', condition=='13', setSize=='s3', params=='bias') %>%
#   select(param_vals, measure_vals) %>%
#   #dplyr::group_by(param_vals) %>%
#   #dplyr::summarise(median(measure_vals)) %>%
#   #plot()
#   cor(use="complete.obs",method = 'spearman')
all.cors.byModel <-
molt.param.out %>%
group_by(model, condition, params, setSize) %>%
filter(model!='RL') %>%
dplyr::summarise(cor.pearson=cor(param_vals,measure_vals),
cor.spearman=cor(param_vals,measure_vals, method = 'spearman')
)
# Correlation matrix
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
molt.param.out %>%
ungroup() %>%
#  group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag') %>%
ggplot(aes(param_vals,measure_vals, color=params)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
all.cors.byModel %>%
filter(model=='LTM', params=='imag')
p.param.outcomes
p.param.outcomes %>% head
p.param.outcomes %>% head %>% View
p.param.outcomes %>%
select(imag,s3s6_learnDiff_behav) %>%
head %>%
View
p.param.outcomes %>%
filter(model=='LTM') %>%
select(imag,s3s6_learnDiff_behav) %>%
head %>%
View
p.param.outcomes %>%
filter(model=='LTM') %>%
select(imag,s3s6_learnDiff_behav) %>%
View
p.param.outcomes %>%
filter(model=='LTM') %>%
select(imag,s3s6_learnDiff_behav) %>%
ggplot(aes(s3s6_learnDiff_behav,imag)) +
geom_point()+
geom_smooth(method='lm')
p.param.outcomes %>%
filter(model=='LTM') %>%
select(imag,s3s6_learnDiff_behav) %>%
ggplot(aes(imag,s3s6_learnDiff_behav)) +
geom_point()+
geom_smooth(method='lm')
p.param.outcomes %>%
filter(model=='LTM') %>%
select(imag,s3s6_learnDiff_behav) %>%
cor(method = 'pearson')
molt.param.out %>% head()
molt.param.out %>%
filter(model=='LTM',measures=='learnDiff', type=='behav', params=='imag') %>%
select(measure_vals,param_vals)
molt.param.out %>%
filter(model=='LTM',measures=='learnDiff') %>%
select(measure_vals,param_vals)
molt.param.out %>%
filter(model=='LTM',, type=='behav', params=='imag') %>%
select(measure_vals,param_vals)
molt.param.out %>%
filter(model=='LTM', type=='behav', params=='imag') %>%
select(measure_vals,param_vals)
molt.param.out$measures
molt.param.out %>% head()
molt.param.out %>%
filter(model=='LTM', type=='behav', params=='imag', measures=='s3s6_learnDiff_behav') %>%
select(measure_vals,param_vals)
molt.param.out %>%
filter(model=='LTM', type=='behav', params=='imag', measures=='s3s6_learnDiff_behav') %>%
select(measure_vals,param_vals) %>% cor(method = 'pearson')
all.cors.byModel <-
molt.param.out %>%
filter(model!='RL', type=='behav') %>%
group_by(model, condition, params, setSize) %>%
dplyr::summarise(cor.pearson=cor(param_vals,measure_vals),
cor.spearman=cor(param_vals,measure_vals, method = 'spearman')
)
# Correlation matrix
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
molt.param.out %>%
ungroup() %>%
#  group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag') %>%
ggplot(aes(param_vals,measure_vals, color=params)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
all.cors.byModel %>%
filter(model=='LTM', params=='imag')
#  p.param.outcomes %>%
#    filter(model=='LTM') %>%
#    select(imag,s3s6_learnDiff_behav) %>%
#  cor(method = 'pearson')
#
# molt.param.out %>%
#   filter(model=='LTM', type=='behav', params=='imag', measures=='s3s6_learnDiff_behav') %>%
#   select(measure_vals,param_vals) %>% cor(method = 'pearson')
#
molt.param.out %>%
ungroup() %>%
#  group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag') %>%
ggplot(aes(param_vals,measure_vals, color=params)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
molt.param.out %>%
ungroup() %>%
#  group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
ggplot(aes(param_vals,measure_vals, color=params)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
all.cors.byModel <-
molt.param.out %>%
filter(model!='RL', type=='behav') %>%
group_by(model, condition, params, setSize) %>%
dplyr::summarise(cor.pearson=cor(param_vals,measure_vals),
cor.spearman=cor(param_vals,measure_vals, method = 'spearman')
)
# Correlation matrix
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
ggplot(aes(param_vals,measure_vals)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
all.cors.byModel %>%
filter(model=='LTM', params=='imag')
#  p.param.outcomes %>%
#    filter(model=='LTM') %>%
#    select(imag,s3s6_learnDiff_behav) %>%
#  cor(method = 'pearson')
#
# molt.param.out %>%
#   filter(model=='LTM', type=='behav', params=='imag', measures=='s3s6_learnDiff_behav') %>%
#   select(measure_vals,param_vals) %>% cor(method = 'pearson')
#
molt.param.out$condition %>% unique()
molt.param.out$measures %>% unique()
molt.param.out %>% filter(type=='behav') %>% select(measures) %>%  unique()
molt.param.out %>% filter(type=='behav') %>% select(measures, condition) %>%  unique()
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav', condition=='learnDiff') %>%
ggplot(aes(param_vals,measure_vals)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
ggplot(aes(param_vals,measure_vals)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
rank
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
ggplot(aes(param_vals,measure_vals)) +
geom_point()+geom_smooth(method=lm) +
facet_wrap(vars(condition))
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
rank()
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
select(param_vals) %>%
rank()
molt.param.out %>%
ungroup() %>%
#group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav') %>%
select(param_vals) %>%
rank()
cancer <- sample(c("yes", "no"), 200, replace=TRUE)
cancer
molt.param.out %>%
ungroup() %>%
group_by(model, condition, params, setSize) %>%
filter(model=='LTM', params=='imag', type=='behav', condition=='learnDiff') %>%
corrplot::corrplot()
p.behav.model %>%  corrplot::corrplot()
cancer <- sample(c("yes", "no"), 200, replace=TRUE)
agegroup <- sample(c("35-39", "40-44", "45-49"), 200, replace=TRUE)
agefirstchild <- sample(c("Age < 30", "Age 30 or greater", "nullipareous"), 200, replace=TRUE)
dat <- data.frame(cancer, agegroup, agefirstchild)
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.pearson)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.spearman)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.pearson,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
all.cors.byModel
all.cors.byModel %>% filter(model=='LTM')
all.cors.byModel %>% filter(model=='LTM', params=='imag')
all.cors.byModel %>%
filter(is.na(cor.pearson)==F) %>%
ggplot(aes(params, condition, fill=cor.spearman)) +
geom_tile() +
facet_wrap(vars(setSize, model))+
theme_pubclean(base_size = 18) +
geom_text(aes(label=round(cor.spearman,2), size=.5), show.legend = F)+
scale_fill_gradient2(limits=c(-1,1),
low='#2b83ba',
high = '#d7191c',
mid = 'white',
midpoint = 0,
guide='colorbar',
aesthetics = 'fill',
breaks= c(-1,-.5,-.25,0,.25,.5,1)
) +
theme(legend.position = 'right') +
xlab('parameters')
molt.param.out %>%
filter(is.na(cor.pearson)==F, setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals)) +
geom_point()
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals)) +
geom_point()
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals)) +
geom_point() +
facet_wrap(vars('model'))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals)) +
geom_point() +
facet_wrap(vars(model))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, condition))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals, group=params, color=params)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, condition))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals, group=params, color=measures)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, params))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals, group=params, color=conditions)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, params))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals, group=params, color=condition)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, params))
molt.param.out %>%
filter( setSize=='s3') %>%
ggplot(aes(param_vals, measure_vals, group=condition, color=condition)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, params))
molt.param.out %>%
filter( setSize=='s3', condition==12) %>%
ggplot(aes(param_vals, measure_vals, group=condition, color=condition)) +
geom_point() +
geom_smooth(method = 'lm')+
facet_wrap(vars(model, params))
